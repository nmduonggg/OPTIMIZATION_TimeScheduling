This is the time scheduling problem solved by Google OR-Tools - CP Model for constraints satisfaction problem
Follow my code and comments for more information.
Hope it will be helpful for your intuition on optimization problem
